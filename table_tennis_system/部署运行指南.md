# ä¹’ä¹“çƒåŸ¹è®­ç®¡ç†ç³»ç»Ÿ - éƒ¨ç½²è¿è¡ŒæŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨ macOS ç³»ç»Ÿä¸Šå¿«é€Ÿéƒ¨ç½²å’Œè¿è¡Œä¹’ä¹“çƒåŸ¹è®­ç®¡ç†ç³»ç»Ÿã€‚

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

### å¿…éœ€è½¯ä»¶
```bash
Python 3.8+
MySQL 8.0+
pip (PythonåŒ…ç®¡ç†å™¨)
```

### æ¨èè½¯ä»¶
```bash
VS Code (ä»£ç ç¼–è¾‘å™¨)
Postman (APIæµ‹è¯•)
Sequel Pro æˆ– phpMyAdmin (æ•°æ®åº“ç®¡ç†)
```

## ğŸ”§ å®‰è£…æ­¥éª¤

### 1. å®‰è£… Python 3.8+

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Homebrew (æ¨è)
```bash
# å®‰è£… Homebrew (å¦‚æœæœªå®‰è£…)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£… Python
brew install python@3.9

# éªŒè¯å®‰è£…
python3 --version
pip3 --version
```

#### æ–¹æ³•äºŒï¼šä»å®˜ç½‘ä¸‹è½½
è®¿é—® [Pythonå®˜ç½‘](https://www.python.org/downloads/) ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬ã€‚

### 2. å®‰è£… MySQL 8.0

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Homebrew (æ¨è)
```bash
# å®‰è£… MySQL
brew install mysql

# å¯åŠ¨ MySQL æœåŠ¡
brew services start mysql

# åˆå§‹åŒ– MySQL (è®¾ç½®rootå¯†ç )
mysql_secure_installation
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨ MySQL å®˜æ–¹å®‰è£…åŒ…
1. è®¿é—® [MySQLå®˜ç½‘](https://dev.mysql.com/downloads/mysql/)
2. ä¸‹è½½ macOS ç‰ˆæœ¬çš„ MySQL å®‰è£…åŒ…
3. æŒ‰ç…§å®‰è£…å‘å¯¼å®Œæˆå®‰è£…

### 3. éªŒè¯ MySQL å®‰è£…
```bash
# æµ‹è¯•è¿æ¥ (è¾“å…¥æ‚¨è®¾ç½®çš„rootå¯†ç )
mysql -u root -p

# åœ¨MySQLæ§åˆ¶å°ä¸­æ‰§è¡Œ
mysql> SELECT VERSION();
mysql> EXIT;
```

## ğŸ“ é¡¹ç›®éƒ¨ç½²

### 1. è·å–é¡¹ç›®ä»£ç 
```bash
# å‡è®¾é¡¹ç›®å·²ç»åœ¨æ‚¨çš„è¯¾ç¨‹è®¾è®¡ç›®å½•ä¸­
cd "/Users/xtanbhjjy/Jlu/è½¯ä»¶å·¥ç¨‹è¯¾ç¨‹è®¾è®¡(2025)/table_tennis_system"
```

### 2. åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ (æ¨è)
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# éªŒè¯è™šæ‹Ÿç¯å¢ƒ
which python
which pip
```

### 3. å®‰è£…Pythonä¾èµ–
```bash
# å®‰è£…é¡¹ç›®ä¾èµ–
pip install -r requirements.txt

# å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œä½¿ç”¨ --user é€‰é¡¹
pip install --user -r requirements.txt
```

### 4. é…ç½®ç¯å¢ƒå˜é‡ (å¯é€‰)
```bash
# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
touch backend/.env

# ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶
cat > backend/.env << 'EOF'
# æ•°æ®åº“é…ç½®
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=ä½ çš„MySQLå¯†ç 
MYSQL_DATABASE=table_tennis_db

# åº”ç”¨é…ç½®
SECRET_KEY=your-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key

# å¼€å‘ç¯å¢ƒ
NODE_ENV=development
EOF
```

### 5. åˆå§‹åŒ–æ•°æ®åº“
```bash
# è¿›å…¥æ•°æ®åº“ç›®å½•
cd database

# ç»™åˆå§‹åŒ–è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x init.sh

# è¿è¡Œåˆå§‹åŒ–è„šæœ¬
./init.sh

# å¦‚æœè„šæœ¬æ‰§è¡Œæœ‰é—®é¢˜ï¼Œå¯ä»¥æ‰‹åŠ¨æ‰§è¡ŒSQL
mysql -u root -p < schema.sql
mysql -u root -p < sample_data.sql
```

### 6. å¯åŠ¨åç«¯æœåŠ¡
```bash
# è¿›å…¥åç«¯ç›®å½•
cd ../backend

# å¯åŠ¨Flaskåº”ç”¨
python app.py
```

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š
```
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://[::1]:5000
 * Debug mode: on
```

### 7. è®¿é—®å‰ç«¯ç•Œé¢
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
- ä¸»é¡µ: http://localhost:5000
- å­¦å‘˜ç•Œé¢: http://localhost:5000/frontend/dashboard/student.html

## ğŸ§ª æµ‹è¯•ç³»ç»Ÿ

### 1. å¥åº·æ£€æŸ¥
```bash
# æµ‹è¯•åç«¯API
curl http://localhost:5000/api/health
```

### 2. ä½¿ç”¨æ¼”ç¤ºè´¦å·ç™»å½•
| è§’è‰² | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|------|--------|------|------|
| è¶…çº§ç®¡ç†å‘˜ | admin | 123456 | å®Œæ•´ç³»ç»Ÿæƒé™ |
| æ ¡åŒºç®¡ç†å‘˜ | campus_admin1 | 123456 | æ ¡åŒºç®¡ç†æƒé™ |
| æ•™ç»ƒ | coach1 | 123456 | æ•™ç»ƒåŠŸèƒ½ |
| å­¦å‘˜ | student1 | 123456 | å­¦å‘˜åŠŸèƒ½ |

### 3. åŠŸèƒ½æµ‹è¯•æ¸…å•

#### åŸºç¡€åŠŸèƒ½æµ‹è¯•
- [ ] ç”¨æˆ·æ³¨å†Œ (å­¦å‘˜/æ•™ç»ƒ)
- [ ] ç”¨æˆ·ç™»å½•/ç™»å‡º
- [ ] ä¸ªäººä¿¡æ¯ä¿®æ”¹

#### æ•™ç»ƒé€‰æ‹©æµ‹è¯•
- [ ] å­¦å‘˜æŸ¥çœ‹æ•™ç»ƒåˆ—è¡¨
- [ ] å­¦å‘˜ç”³è¯·é€‰æ‹©æ•™ç»ƒ
- [ ] æ•™ç»ƒå®¡æ ¸å­¦å‘˜ç”³è¯·

#### è¯¾ç¨‹é¢„çº¦æµ‹è¯•
- [ ] æŸ¥çœ‹æ•™ç»ƒè¯¾è¡¨
- [ ] åˆ›å»ºè¯¾ç¨‹é¢„çº¦
- [ ] æ•™ç»ƒç¡®è®¤é¢„çº¦
- [ ] å–æ¶ˆé¢„çº¦

#### æ”¶è´¹ç®¡ç†æµ‹è¯•
- [ ] æŸ¥çœ‹è´¦æˆ·ä½™é¢
- [ ] è´¦æˆ·å……å€¼
- [ ] è‡ªåŠ¨æ‰£è´¹
- [ ] äº¤æ˜“è®°å½•æŸ¥è¯¢

#### æ¯”èµ›ç®¡ç†æµ‹è¯•
- [ ] æŸ¥çœ‹æ¯”èµ›åˆ—è¡¨
- [ ] å­¦å‘˜æŠ¥åæ¯”èµ›
- [ ] ç®¡ç†å‘˜åˆ›å»ºæ¯”èµ›

## ğŸ› ï¸ å¸¸è§é—®é¢˜è§£å†³

### 1. Pythonä¾èµ–å®‰è£…å¤±è´¥
```bash
# å‡çº§pip
pip install --upgrade pip

# æ¸…é™¤ç¼“å­˜
pip cache purge

# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. MySQLè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
brew services list | grep mysql

# é‡å¯MySQLæœåŠ¡
brew services restart mysql

# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3306
```

### 3. ç«¯å£è¢«å ç”¨ (5000ç«¯å£)
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :5000

# æ€æ­»å ç”¨è¿›ç¨‹
kill -9 <PID>

# æˆ–è€…ä¿®æ”¹Flaskç«¯å£
python app.py --port 5001
```

### 4. æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥
```bash
# æ‰‹åŠ¨åˆ›å»ºæ•°æ®åº“
mysql -u root -p -e "CREATE DATABASE table_tennis_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# æ‰‹åŠ¨æ‰§è¡ŒSQLæ–‡ä»¶
mysql -u root -p table_tennis_db < database/schema.sql
mysql -u root -p table_tennis_db < database/sample_data.sql
```

### 5. å‰ç«¯é¡µé¢æ— æ³•è®¿é—®
ç¡®ä¿ï¼š
- Flaskåº”ç”¨æ­£åœ¨è¿è¡Œ
- é˜²ç«å¢™æ²¡æœ‰é˜»æ­¢5000ç«¯å£
- æµè§ˆå™¨æ²¡æœ‰ç¼“å­˜é—®é¢˜ (è¯•è¯•æ— ç—•æ¨¡å¼)

## ğŸ“ å¼€å‘æç¤º

### 1. ä¿®æ”¹ä»£ç åé‡å¯æœåŠ¡
Flaskå¼€å¯äº†è°ƒè¯•æ¨¡å¼ï¼Œä»£ç ä¿®æ”¹åä¼šè‡ªåŠ¨é‡å¯ï¼Œä½†å¦‚æœé‡åˆ°é—®é¢˜å¯ä»¥æ‰‹åŠ¨é‡å¯ï¼š
```bash
# Ctrl+C åœæ­¢æœåŠ¡
# ç„¶åé‡æ–°å¯åŠ¨
python app.py
```

### 2. æŸ¥çœ‹æ—¥å¿—
```bash
# Flaskä¼šåœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—
# å¦‚æœéœ€è¦æ›´è¯¦ç»†çš„æ—¥å¿—ï¼Œå¯ä»¥æ£€æŸ¥ï¼š
tail -f /tmp/flask.log  # å¦‚æœé…ç½®äº†æ—¥å¿—æ–‡ä»¶
```

### 3. æ•°æ®åº“æ“ä½œ
```bash
# è¿æ¥åˆ°MySQL
mysql -u root -p table_tennis_db

# æŸ¥çœ‹æ‰€æœ‰è¡¨
SHOW TABLES;

# æŸ¥çœ‹ç”¨æˆ·æ•°æ®
SELECT * FROM users LIMIT 5;

# æŸ¥çœ‹é¢„çº¦æ•°æ®
SELECT * FROM bookings ORDER BY created_at DESC LIMIT 5;
```

### 4. APIæµ‹è¯•
ä½¿ç”¨ Postman æˆ– curl æµ‹è¯•APIï¼š
```bash
# æµ‹è¯•ç™»å½•API
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"student1","password":"123456"}'

# æµ‹è¯•è·å–æ•™ç»ƒåˆ—è¡¨
curl -X GET http://localhost:5000/api/user/coaches \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ğŸ”§ é«˜çº§é…ç½®

### 1. é…ç½®HTTPS (ç”Ÿäº§ç¯å¢ƒ)
```bash
# ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ (ä»…ç”¨äºæµ‹è¯•)
openssl req -x509 -newkey rsa:4096 -nodes -out cert.pem -keyout key.pem -days 365

# ä¿®æ”¹app.pyï¼Œæ·»åŠ SSLé…ç½®
app.run(host='0.0.0.0', port=5000, debug=True, ssl_context=('cert.pem', 'key.pem'))
```

### 2. é…ç½®åå‘ä»£ç† (Nginx)
```nginx
server {
    listen 80;
    server_name localhost;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### 3. æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–
```sql
-- æ·»åŠ ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
CREATE INDEX idx_booking_date_coach ON bookings(booking_date, coach_id);
CREATE INDEX idx_user_campus_type ON users(campus_id, user_type);
```

## ğŸ“Š ç³»ç»Ÿç›‘æ§

### 1. æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
```bash
# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# æ£€æŸ¥å†…å­˜ä½¿ç”¨
top -l 1 | grep PhysMem

# æ£€æŸ¥æ•°æ®åº“å¤§å°
mysql -u root -p -e "SELECT table_schema AS 'Database', ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS 'Size (MB)' FROM information_schema.tables WHERE table_schema='table_tennis_db';"
```

### 2. å¤‡ä»½æ•°æ®åº“
```bash
# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p backups

# å¤‡ä»½æ•°æ®åº“
mysqldump -u root -p table_tennis_db > backups/backup_$(date +%Y%m%d_%H%M%S).sql

# æ¢å¤æ•°æ®åº“
mysql -u root -p table_tennis_db < backups/backup_file.sql
```

## ğŸ¯ ä¸‹ä¸€æ­¥å·¥ä½œ

å®ŒæˆåŸºæœ¬éƒ¨ç½²åï¼Œæ‚¨å¯ä»¥ï¼š

1. **å®Œå–„åŠŸèƒ½**ï¼šæ·»åŠ æ›´å¤šå‰ç«¯é¡µé¢å’Œäº¤äº’åŠŸèƒ½
2. **ä¼˜åŒ–æ€§èƒ½**ï¼šæ·»åŠ ç¼“å­˜ã€ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
3. **å¢å¼ºå®‰å…¨**ï¼šæ·»åŠ æ›´å¤šéªŒè¯å’Œé˜²æŠ¤æªæ–½
4. **æ‰©å±•åŠŸèƒ½**ï¼šé›†æˆçœŸå®çš„æ”¯ä»˜æ¥å£ã€çŸ­ä¿¡é€šçŸ¥ç­‰
5. **éƒ¨ç½²ç”Ÿäº§**ï¼šä½¿ç”¨Dockerå®¹å™¨åŒ–éƒ¨ç½²

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥é”™è¯¯æ—¥å¿—
2. ç¡®è®¤ç¯å¢ƒé…ç½®
3. æŸ¥çœ‹APIå“åº”
4. é‡å¯æœåŠ¡è¯•è¯•

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼**

ç³»ç»Ÿå·²å…·å¤‡å®Œæ•´çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¯ä»¥æ»¡è¶³è½¯ä»¶å·¥ç¨‹è¯¾ç¨‹è®¾è®¡çš„æ¼”ç¤ºéœ€æ±‚ã€‚